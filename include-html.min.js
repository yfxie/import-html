"use strict";var IncludeHTML=function(){function e(n,t){var o=this;o.prevPromise=t,o.fn=n,o.then=function(n){return o.next=new e(n,o),o.next},o._run=function(n){var t=o.fn(n);t instanceof e?t.then(o._resolve):o._resolve(t)},o._resolve=function(e){o.next&&o.next._run(e)},o.prevPromise||o._run(o._resolve)}function n(n){return new e(function(e){var t=new XMLHttpRequest;t.onload=function(){e(this.response)},t.open("get",n,!0),t.send()})}var t=/include(\s+([^\s]+))+/,o=document.documentElement;e.all=function(n){return new e(function(e){var t=[],o=function(o,r){t[r]=o,t.length===n.length&&e(t)};n.forEach(function(e,n){e.then(function(e){o(e,n)})})})};var r=function(e){this.node=e,this.parentNode=e.parentNode,this.options=r.extractOptions(e)};return r.prototype.load=function(){var e=this;return n(this.options.url).then(function(n){var t=document.createElement("template");return t.innerHTML=n,e.parentNode.replaceChild(t.content,e.node),t})},r.nodeValidator=function(e){return t.exec(e.nodeValue)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},r.extractOptions=function(e){var n=e.nodeValue.replace(/^\s+include\s+/,"").replace(/\s+/g," ").split(" "),t=n.shift();return{url:t,directives:n}},r.queryNodes=function(e){for(var n,t=[],o=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,r.nodeValidator);n=o.nextNode();)t.push(n);return t},r.load=function(n){n=n instanceof HTMLElement?n:o;var t=r.queryNodes(n).map(function(e){return new r(e).load()});t.length?e.all(t).then(r.load):document.documentElement.classList.add("include-html-loaded")},r}();document.addEventListener("DOMContentLoaded",IncludeHTML.load);